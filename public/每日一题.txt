******************  ä¾‹é¢˜ä¸€ **********************************
******************ğŸ–ğŸ–ğŸ–**********************************
const list = [1, 2, 3]
const square = num => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve(num * num)
    }, 1000)
  })
}

function test() {
  list.forEach(async x=> {
    const res = await square(x)
    console.log(res)
  })
}
test()


//ä»¥ä¸Šä»£ç   ç­‰å¾…1såå¹¶è¡Œè¾“å‡º1 4 9 
åŸç†:
å› ä¸ºforeachæ˜¯ä¸èƒ½é˜»å¡çš„ å°è¯•asyncé˜»å¡æ— æ•ˆ  è¦æƒ³å®ç°æ¯éš”ä¸€ç§’è¾“å‡º  éœ€è¦ä½¿ç”¨ forå¾ªç¯ æˆ–è€… for of

async function test() {
  for (let i = 0; i < list.length; i++) {
    let x = list[i]
    const res = await square(x)
    console.log(res)
  }
}

async function test() {
  for (let x of list) {
    const res = await square(x)
    console.log(res)
  }
}


******************  ä¾‹é¢˜äºŒ **********************************
******************ğŸ–ğŸ–ğŸ–**********************************
let { ...yideng } = Object.create({ x: 1 });
console.log(yideng.x);
//undefined

è§£æï¼šè§£æ„èµ‹å€¼ä¸ä¼šå»æ‰¾åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œè€ŒObject.createï¼ˆaï¼‰ä¼šå°†aæ”¾åœ¨æ–°å»ºå¯¹è±¡çš„åŸå‹é“¾ä¸Šï¼Œå³ let p = Object.create({ x: 1 });//pè¾“å‡ºä¸º{},ä½†æ˜¯p.x =1 å› ä¸ºpåŸå‹é“¾ä¸Šæœ‰x




******************  ä¾‹é¢˜ä¸‰ **********************************
******************ğŸ–ğŸ–ğŸ–**********************************
var a = { k1: 1 };
var b = a;
a.k3 = a = { k2: 2 };
console.log(a); // ?    { k2: 2 };
console.log(b); // ?    {k1: 1, k3: {k2: 2 }

è§£æï¼š ç¬¬ä¸‰è¡Œ   .è¿ç®—ç¬¦é«˜äº =   ï¼Œæ‰€ä»¥aå…ˆæŒ‚è½½k3å±æ€§   ç¬¬äºŒæ­¥  æ–°å»ºäº†aå¹¶èµ‹å€¼ä¸º   { k2: 2 }  æ³¨æ„ a.k3 çš„ a  å’Œ a=   { k2: 2 }  è¿™ä¸¤ä¸ªaç°åœ¨ä¸æ˜¯åŒä¸€ä¸ª 
æ‰€ä»¥   b= a ä¸­æŒ‡å‘çš„ç¬¬ä¸€è¡Œçš„a  å€¼ä¸º   {k1: 1, k3: {k2: 2 }             è€Œæœ€æ–°çš„aå€¼ä¸º{ k2: 2 };

è¿™æ˜¯å› ä¸ºvarçš„åŸå›  å¦‚æœæ¢æˆlet ä»£ç ç¬¬ä¸‰è¡Œä¼šæŠ¥é”™  å› ä¸ºaå·²ç»è¢«å®šä¹‰è¿‡  
let a = { k1: 1 };
let b = a;
a.k3 = a = { k2: 2 };
console.log(a); // ?    { k2: 2 };
console.log(b); // ?    {k1: 1, k3: {k2: 2 }
VM1684:1 Uncaught SyntaxError: Identifier 'a' has already been declared  



******************  ä¾‹é¢˜å›› **********************************
******************ğŸ–ğŸ–ğŸ–**********************************
è¾“å‡ºå‡ºå¤šçº§åµŒå¥—ç»“æ„çš„ Object çš„æ‰€æœ‰ key å€¼     // é€’å½’å®ç°

var obj = {
  a: '12',
  b: '23',
  first: {
    c: '34',
    d: '45',
    second: { 3: '56', f: '67', three: { g: '78', h: '89', i: '90' }}
  }
}
function getObjAllKeys(obj, res = []) {
  for (const key in obj) {
    res.push(key)
    if (typeof obj[key] === 'object') {
      getObjAllKeys(obj[key], res)
    }
  }
  return res
}
getObjAllKeys(obj)





******************  ä¾‹é¢˜äº” **********************************
******************ğŸ–ğŸ–ğŸ–**********************************
this çš„æŒ‡å‘é—®é¢˜ 


    var name = 'global'
    var obj = {
        name:'local',
        foo:function(){
            this.name = 'foo'
        }.bind(window)
    }
    var bar = new obj.foo()
    setTimeout((function(){
        console.log(window.name)  //æœ€åæ‰§è¡Œ 
    }),0)
    console.log(bar.name)  //thisæŒ‡å‘obj  æ‰€ä»¥ nameä¸ºfoo
    var bar3 = bar2 = bar
    bar2.name = "foo2"  
    console.log(bar3.name)  // bar3 bar2 bar  ä½¿ç”¨åŒä¸€ä¸ªåœ°å€  æ‰€ä»¥å€¼ä¸€æ ·  éƒ½æ˜¯ foo2 å½“ç„¶ thisè¿˜æ˜¯obj   windowçš„nameæ²¡æœ‰æ”¹å˜

è¾“å‡ºï¼š foo  ã€‹foo2ã€‹ global











******************  ä¾‹é¢˜å…­**********************************
******************ğŸ–ğŸ–ğŸ–**********************************
ç«‹å³æ‰§è¡Œå‡½æ•°çš„å†™æ³•
( function(){â€¦} )()å’Œ( function (){â€¦} () )



(function(a){
    console.log(a);   //firebugè¾“å‡º123,ä½¿ç”¨ï¼ˆï¼‰è¿ç®—ç¬¦
})(123);
 
(function(a){
    console.log(a);   //firebugè¾“å‡º1234ï¼Œä½¿ç”¨ï¼ˆï¼‰è¿ç®—ç¬¦
}(1234));
 
!function(a){
    console.log(a);   //firebugè¾“å‡º12345,ä½¿ç”¨ï¼è¿ç®—ç¬¦
}(12345);
 
+function(a){
    console.log(a);   //firebugè¾“å‡º123456,ä½¿ç”¨+è¿ç®—ç¬¦
}(123456);
 
-function(a){
    console.log(a);   //firebugè¾“å‡º1234567,ä½¿ç”¨-è¿ç®—ç¬¦
}(1234567);
 
var fn=function(a){
    console.log(a);   //firebugè¾“å‡º12345678ï¼Œä½¿ç”¨=è¿ç®—ç¬¦
}(12345678)






******************  ä¾‹é¢˜ä¸ƒ**********************************
******************ğŸ–ğŸ–ğŸ–**********************************
æŸ¥çœ‹é¡µé¢å‡ºç°æœ€å¤šæ¬¡çš„èŠ‚ç‚¹åç§°
è§£æï¼šdocument.querySelectorAll('*') å’Œ reduce å¤„ç†


const maxBy = (list, keyBy) => list.reduce((x, y) => keyBy(x) > keyBy(y) ? x : y)

function getFrequentTag () {
  const tags = [...document.querySelectorAll('*')].map(x => x.tagName).reduce((o, tag) => { 
    o[tag] = o[tag] ? o[tag] + 1 : 1;
    return o   // oå¯¹è±¡ä¸­ä¿å­˜èŠ‚ç‚¹å’Œæ¬¡æ•°   tag:num
  }, {})
  return maxBy(Object.entries(tags), tag => tag[1])
}
